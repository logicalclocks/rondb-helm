## Usage

[Helm](https://helm.sh) must be installed to use the charts.  Please refer to
Helm's [documentation](https://helm.sh/docs) to get started.

Once Helm has been set up correctly, add the repo as follows:

```bash
helm repo add rondb https://logicalclocks.github.io/rondb-helm/
```

If you had already added this repo earlier, run `helm repo update` to retrieve
the latest versions of the packages.  You can then run `helm search repo
rondb` to see the charts.

To install the rondb chart:

```bash
helm install my-rondb rondb/rondb
```

To uninstall the chart:

```bash
helm delete my-rondb
```

## Values options

This has been auto-generated from the `values.schema.json` file.

Chart version is **0.6.8**. See commit history for previous schemata.

| Field Path                                                   | Type                                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Default                                                                                                                                                                        |
|:-------------------------------------------------------------|:------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| backups                                                      | object                                          | Whether, how and how often to run regular backups on the cluster                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                |
| backups.enabled                                              | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| backups.objectStorageProvider                                | enum: [s3]                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | s3                                                                                                                                                                             |
| backups.pathPrefix                                           | string                                          | Prefix of RonDB backup in the configured bucket                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rondb_backup                                                                                                                                                                   |
| backups.s3                                                   | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| backups.s3.bucketName                                        | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rondb-helm                                                                                                                                                                     |
| backups.s3.endpoint                                          | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| backups.s3.keyCredentialsSecret                              | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| backups.s3.keyCredentialsSecret.key                          | string                                          | Key in the Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | key_id                                                                                                                                                                         |
| backups.s3.keyCredentialsSecret.name                         | string                                          | Name of the Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | aws-credentials                                                                                                                                                                |
| backups.s3.provider                                          | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | AWS                                                                                                                                                                            |
| backups.s3.region                                            | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | eu-north-1                                                                                                                                                                     |
| backups.s3.secretCredentialsSecret                           | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| backups.s3.secretCredentialsSecret.key                       | string                                          | Key in the Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | access_key                                                                                                                                                                     |
| backups.s3.secretCredentialsSecret.name                      | string                                          | Name of the Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | aws-credentials                                                                                                                                                                |
| backups.s3.serverSideEncryption                              | enum: [aws:kms, aws:kms:dsse, AES256, null]     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| backups.schedule                                             | string                                          | Cron schedule for backups                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 0 3 * * mon                                                                                                                                                                    |
| benchmarking                                                 | object                                          | Whether, which and how to run a benchmarking job on the cluster                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| benchmarking.dbt2                                            | object                                          | Configuration of DBT2 benchmarking job                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                |
| benchmarking.dbt2.numWarehouses                              | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 4                                                                                                                                                                              |
| benchmarking.dbt2.runMulti                                   | string                                          | Table with columns: NUM_MYSQL_SERVERS, NUM_WAREHOUSES, NUM_TERMINALS                                                                                                                                                                                                                                                                                                                                                                                                                               | # NUM_MYSQL_SERVERS  NUM_WAREHOUSES  NUM_TERMINALS                                                                                                                             |
|                                                              |                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2 1 1                                                                                                                                                                          |
|                                                              |                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2 2 1                                                                                                                                                                          |
|                                                              |                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2 2 2                                                                                                                                                                          |
| benchmarking.dbt2.runSingle                                  | string                                          | Table with columns: NUM_MYSQL_SERVERS, NUM_WAREHOUSES, NUM_TERMINALS                                                                                                                                                                                                                                                                                                                                                                                                                               | # NUM_MYSQL_SERVERS  NUM_WAREHOUSES  NUM_TERMINALS                                                                                                                             |
|                                                              |                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1 1 1                                                                                                                                                                          |
|                                                              |                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1 2 1                                                                                                                                                                          |
|                                                              |                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1 4 1                                                                                                                                                                          |
|                                                              |                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1 4 2                                                                                                                                                                          |
| benchmarking.enabled                                         | boolean                                         | Whether to run a benchmarking job on the cluster                                                                                                                                                                                                                                                                                                                                                                                                                                                   | False                                                                                                                                                                          |
| benchmarking.sysbench                                        | object                                          | Configuration of Sysbench benchmarking job                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                |
| benchmarking.sysbench.minimizeBandwidth                      | boolean                                         | Whether to use filters to minimize bandwidth usage. This can be useful in cloud environments where bandwidth is expensive.                                                                                                                                                                                                                                                                                                                                                                         | False                                                                                                                                                                          |
| benchmarking.sysbench.rows                                   | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 100000                                                                                                                                                                         |
| benchmarking.sysbench.threadCountsToRun                      | string                                          | Semi-colon-separated list of thread counts to run                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 1;2;4;8;12;16;24;32;64                                                                                                                                                         |
| benchmarking.type                                            | enum: [sysbench, dbt2_single, dbt2_multi, ycsb] | Which benchmarking job to run. 'Multi' refers to multiple MySQLd servers to run against                                                                                                                                                                                                                                                                                                                                                                                                            | sysbench                                                                                                                                                                       |
| benchmarking.ycsb                                            | object                                          | Configuration of YCSB benchmarking job                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                |
| benchmarking.ycsb.schemata                                   | string                                          | MySQL table schema to use for YCSB. NOTE: The `ycsb` database is pre-created.                                                                                                                                                                                                                                                                                                                                                                                                                      | CREATE TABLE IF NOT EXISTS ycsb.usertable (YCSB_KEY VARCHAR(255) PRIMARY KEY, FIELD0 varbinary(4096));                                                                         |
| clusterSize                                                  | object                                          | Horizontal cluster size                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                |
| clusterSize.activeDataReplicas                               | integer                                         | How many replicas each node group has. When descreasing this value, try going down by 1 at a time. Too many nodes leaving at once can cause issues with leader elections.                                                                                                                                                                                                                                                                                                                          | 2                                                                                                                                                                              |
| clusterSize.maxNumMySQLServers                               | integer                                         | The maximum amount of MySQL servers we will auto-scale to. It is represented as number of slots in RonDB's config.ini. Changing this will only take effect if the ConfigMap for config.ini is updated and the MGMd is restarted.                                                                                                                                                                                                                                                                   | 5                                                                                                                                                                              |
| clusterSize.maxNumRdrs                                       | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2                                                                                                                                                                              |
| clusterSize.minNumMySQLServers                               | integer                                         | A minimum amount of MySQL servers                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 1                                                                                                                                                                              |
| clusterSize.minNumRdrs                                       | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1                                                                                                                                                                              |
| clusterSize.numNodeGroups                                    | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1                                                                                                                                                                              |
| enableSecurityContext                                        | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | True                                                                                                                                                                           |
| globalReplication                                            | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| globalReplication.clusterNumber                              | number                                          | Determines the offset for global server IDs                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 1                                                                                                                                                                              |
| globalReplication.primary                                    | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| globalReplication.primary.binlogFilename                     | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | binlog                                                                                                                                                                         |
| globalReplication.primary.enabled                            | boolean                                         | Specifies if the primary replication is enabled. This will actually create the binary log servers. Can be activated after an initial start.                                                                                                                                                                                                                                                                                                                                                        | False                                                                                                                                                                          |
| globalReplication.primary.expireBinlogsDays                  | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1.5                                                                                                                                                                            |
| globalReplication.primary.ignoreDatabases                    | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| globalReplication.primary.includeDatabases                   | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| globalReplication.primary.logReplicaUpdates                  | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| globalReplication.primary.maxNumBinlogServers                | number                                          | Don't change this value. Determines how many binlog servers we can scale out to. Used to determine the server IDs for global replication. Even if replication is disabled, potential binlog servers will be written into the config.ini.                                                                                                                                                                                                                                                           | 2                                                                                                                                                                              |
| globalReplication.primary.numBinlogServers                   | number                                          | The current number of binlog servers, given global Replication is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                         | 2                                                                                                                                                                              |
| globalReplication.secondary                                  | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| globalReplication.secondary.enabled                          | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| globalReplication.secondary.replicateFrom                    | object                                          | RonDB clusters to replicate from. RonDB supports merge-replicating from multiple clusters, but we only support replicating from one cluster                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                |
| globalReplication.secondary.replicateFrom.binlogServerHosts  | array                                           | Hostnames of the binlog server to replicate from. The binlog servers have headless ClusterIPs and one LoadBalancer *per* binlog server. If we replicate across different K8s clusters, we can reference the External IPs of the binlog servers' LoadBalancers here.                                                                                                                                                                                                                                | []                                                                                                                                                                             |
| globalReplication.secondary.replicateFrom.clusterNumber      | number                                          | A helper to understand from which serverIds to replicate from                                                                                                                                                                                                                                                                                                                                                                                                                                      | 2                                                                                                                                                                              |
| globalReplication.secondary.replicateFrom.ignoreDatabases    | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| globalReplication.secondary.replicateFrom.ignoreTables       | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| globalReplication.secondary.replicateFrom.includeDatabases   | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| globalReplication.secondary.replicateFrom.includeTables      | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| globalReplication.secondary.replicateFrom.useTlsConnection   | boolean                                         | Enable this for an encrypted replication channel. Important if the binlog server requires TLS connections                                                                                                                                                                                                                                                                                                                                                                                          | False                                                                                                                                                                          |
| imagePullPolicy                                              | string                                          | The Kubernetes image pull policy                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | IfNotPresent                                                                                                                                                                   |
| imagePullSecrets                                             | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| images                                                       | object                                          | Information for Docker images used in the cluster                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                |
| images.dataValidation                                        | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| images.dataValidation.name                                   | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | python                                                                                                                                                                         |
| images.dataValidation.registry                               | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | docker.io                                                                                                                                                                      |
| images.dataValidation.repository                             | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| images.dataValidation.tag                                    | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 3.12-slim                                                                                                                                                                      |
| images.mysqldExporter                                        | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| images.mysqldExporter.name                                   | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | mysqld_exporter                                                                                                                                                                |
| images.mysqldExporter.registry                               | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | docker.hops.works                                                                                                                                                              |
| images.mysqldExporter.repository                             | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | hopsworks                                                                                                                                                                      |
| images.mysqldExporter.tag                                    | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 0.11.2                                                                                                                                                                         |
| images.rondb                                                 | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| images.rondb.name                                            | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rondb                                                                                                                                                                          |
| images.rondb.registry                                        | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | docker.io                                                                                                                                                                      |
| images.rondb.repository                                      | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | hopsworks                                                                                                                                                                      |
| images.rondb.tag                                             | string                                          | The version of RonDB to use; This should always be equivalent to .Chart.AppVersion                                                                                                                                                                                                                                                                                                                                                                                                                 | 22.10.7-0.7                                                                                                                                                                    |
| images.toolbox                                               | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| images.toolbox.name                                          | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | hwutils                                                                                                                                                                        |
| images.toolbox.registry                                      | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | docker.io                                                                                                                                                                      |
| images.toolbox.repository                                    | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | hopsworks                                                                                                                                                                      |
| images.toolbox.tag                                           | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 0.7                                                                                                                                                                            |
| isMultiNodeCluster                                           | boolean                                         | Whether the Kubernetes cluster has multiple nodes; this will affect affinities and add requirements to scheduling.                                                                                                                                                                                                                                                                                                                                                                                 | True                                                                                                                                                                           |
| meta                                                         | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.binlogServers                                           | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.binlogServers.externalLoadBalancers                     | object                                          | One LoadBalancer per binlog server; Creating an (alternative) Ingress per binlog server is difficult                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                |
| meta.binlogServers.externalLoadBalancers.annotations         | object                                          | Cloud provider load balancer specific annotations.                                                                                                                                                                                                                                                                                                                                                                                                                                                 | {}                                                                                                                                                                             |
| meta.binlogServers.externalLoadBalancers.class               | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.binlogServers.externalLoadBalancers.enabled             | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | True                                                                                                                                                                           |
| meta.binlogServers.externalLoadBalancers.namePrefix          | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | binlog-server                                                                                                                                                                  |
| meta.binlogServers.externalLoadBalancers.port                | integer                                         | Port to expose the service on                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 3306                                                                                                                                                                           |
| meta.binlogServers.headlessClusterIp                         | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.binlogServers.headlessClusterIp.name                    | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | headless-binlog-servers                                                                                                                                                        |
| meta.binlogServers.headlessClusterIp.port                    | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 3306                                                                                                                                                                           |
| meta.binlogServers.statefulSet                               | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.binlogServers.statefulSet.endToEndTls                   | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.binlogServers.statefulSet.endToEndTls.enabled           |                                                 | Whether to use end-to-end encryption for MySQL binlog server Pods. This is recommended for high-security use cases. For MySQLds this is especially recommended since they use raw TCP connections and thereby by-pass TLS Ingress-rules. Otherwise, Ingress-TCP can also be configured directly via the Ingress controller (not in this Helmchart).                                                                                                                                                | False                                                                                                                                                                          |
| meta.binlogServers.statefulSet.endToEndTls.filenames         | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.binlogServers.statefulSet.endToEndTls.filenames.ca      | ['string', 'null']                              | Name of the CA file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                |
| meta.binlogServers.statefulSet.endToEndTls.filenames.cert    | string                                          | Name of the certificate file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                          | tls.crt                                                                                                                                                                        |
| meta.binlogServers.statefulSet.endToEndTls.filenames.key     | string                                          | Name of the key file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                                  | tls.key                                                                                                                                                                        |
| meta.binlogServers.statefulSet.endToEndTls.secretName        | string                                          | Name of the TLS Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | binlog-end-to-end-tls                                                                                                                                                          |
| meta.binlogServers.statefulSet.endToEndTls.supplyOwnSecret   |                                                 | Whether the Helmchart user will create a TLS Secret outside of this Helmchart. Otherwise we rely on cert-manager to create one.                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| meta.binlogServers.statefulSet.name                          | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | mysqld-binlog-servers                                                                                                                                                          |
| meta.mgmd                                                    | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mgmd.headlessClusterIp                                  | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mgmd.headlessClusterIp.annotations                      | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| meta.mgmd.headlessClusterIp.name                             | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | headless-mgmds                                                                                                                                                                 |
| meta.mgmd.headlessClusterIp.port                             | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1186                                                                                                                                                                           |
| meta.mgmd.statefulSetName                                    | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | mgmds                                                                                                                                                                          |
| meta.mysqld                                                  | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mysqld.addSysNiceCapability                             | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | True                                                                                                                                                                           |
| meta.mysqld.clusterIp                                        | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mysqld.clusterIp.annotations                            | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| meta.mysqld.clusterIp.name                                   | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | mysqld                                                                                                                                                                         |
| meta.mysqld.clusterIp.port                                   | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 3306                                                                                                                                                                           |
| meta.mysqld.exporter                                         | object                                          | Configuration for mysqld exporter                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                |
| meta.mysqld.exporter.metricsPort                             | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 9104                                                                                                                                                                           |
| meta.mysqld.externalLoadBalancer                             | object                                          | Configuration for load balancer service to be used for external access                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                |
| meta.mysqld.externalLoadBalancer.annotations                 | object                                          | Cloud provider load balancer specific annotations.                                                                                                                                                                                                                                                                                                                                                                                                                                                 | {}                                                                                                                                                                             |
| meta.mysqld.externalLoadBalancer.class                       | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mysqld.externalLoadBalancer.enabled                     | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| meta.mysqld.externalLoadBalancer.managed                     | boolean                                         | LoadBalancer is managed by provider                                                                                                                                                                                                                                                                                                                                                                                                                                                                | True                                                                                                                                                                           |
| meta.mysqld.externalLoadBalancer.name                        | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | mysqld-external                                                                                                                                                                |
| meta.mysqld.externalLoadBalancer.port                        | integer                                         | Port to expose the service on                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 3306                                                                                                                                                                           |
| meta.mysqld.headlessClusterIp                                | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mysqld.headlessClusterIp.name                           | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | headless-mysqlds                                                                                                                                                               |
| meta.mysqld.headlessClusterIp.port                           | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 3306                                                                                                                                                                           |
| meta.mysqld.statefulSet                                      | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mysqld.statefulSet.endToEndTls                          | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mysqld.statefulSet.endToEndTls.enabled                  |                                                 | Whether to use end-to-end encryption for MySQLd Pods. This is recommended for high-security use cases. For MySQLds this is especially recommended since they use raw TCP connections and thereby by-pass TLS Ingress-rules. Otherwise, Ingress-TCP can also be configured directly via the Ingress controller (not in this Helmchart).                                                                                                                                                             | False                                                                                                                                                                          |
| meta.mysqld.statefulSet.endToEndTls.filenames                | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.mysqld.statefulSet.endToEndTls.filenames.ca             | ['string', 'null']                              | Name of the CA file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                |
| meta.mysqld.statefulSet.endToEndTls.filenames.cert           | string                                          | Name of the certificate file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                          | tls.crt                                                                                                                                                                        |
| meta.mysqld.statefulSet.endToEndTls.filenames.key            | string                                          | Name of the key file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                                  | tls.key                                                                                                                                                                        |
| meta.mysqld.statefulSet.endToEndTls.secretName               | string                                          | Name of the TLS Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | mysqld-end-to-end-tls                                                                                                                                                          |
| meta.mysqld.statefulSet.endToEndTls.supplyOwnSecret          |                                                 | Whether the Helmchart user will create a TLS Secret outside of this Helmchart. Otherwise we rely on cert-manager to create one.                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| meta.mysqld.statefulSet.name                                 | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | mysqlds                                                                                                                                                                        |
| meta.ndbmtd                                                  | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.ndbmtd.statefulSet                                      | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.ndbmtd.statefulSet.podAnnotations                       | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| meta.rdrs                                                    | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.rdrs.clusterIp                                          | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.rdrs.clusterIp.annotations                              | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {'consul.hashicorp.com/service-name': 'rdrs', 'prometheus.io/path': '/metrics', 'prometheus.io/port': '4406', 'prometheus.io/scheme': 'https', 'prometheus.io/scrape': 'true'} |
| meta.rdrs.clusterIp.name                                     | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rdrs                                                                                                                                                                           |
| meta.rdrs.externalLoadBalancer                               | object                                          | Configuration for load balancer service to be used for external access                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                |
| meta.rdrs.externalLoadBalancer.annotations                   | object                                          | Cloud provider load balancer specific annotations.                                                                                                                                                                                                                                                                                                                                                                                                                                                 | {}                                                                                                                                                                             |
| meta.rdrs.externalLoadBalancer.class                         | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.rdrs.externalLoadBalancer.enabled                       | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| meta.rdrs.externalLoadBalancer.managed                       | boolean                                         | LoadBalancer is managed by provider                                                                                                                                                                                                                                                                                                                                                                                                                                                                | True                                                                                                                                                                           |
| meta.rdrs.externalLoadBalancer.name                          | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rdrs-external                                                                                                                                                                  |
| meta.rdrs.headlessClusterIpName                              | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rdrs-cluster-ip                                                                                                                                                                |
| meta.rdrs.ingress                                            | object                                          | Configuration of Ingress for RDRS                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                |
| meta.rdrs.ingress.class                                      | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | nginx                                                                                                                                                                          |
| meta.rdrs.ingress.dnsNames                                   | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| meta.rdrs.ingress.enabled                                    | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| meta.rdrs.ingress.tls                                        | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.rdrs.ingress.tls.enabled                                | boolean                                         | WARN: Nginx-ingress will always use encryption even if this is disabled. By enabling this, we simply have more control over the TLS Secret. The TLS Secrets are placed onto the Ingress controller instance. Ingress TLS is currently only supported with cert-manager (RonDB-standalone)                                                                                                                                                                                                          | True                                                                                                                                                                           |
| meta.rdrs.ingress.tls.ipAddresses                            | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| meta.rdrs.ingress.useDefaultBackend                          | boolean                                         | Whether to use the RDRS as a default backend for the Ingress; this makes it reachable without specifying a subdomain; i.e. an IP can be used instead.                                                                                                                                                                                                                                                                                                                                              | True                                                                                                                                                                           |
| meta.rdrs.statefulSet                                        | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.rdrs.statefulSet.endToEndTls                            | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.rdrs.statefulSet.endToEndTls.enabled                    |                                                 | Whether to use end-to-end encryption for RDRS Pods. This is recommended for high-security use cases.                                                                                                                                                                                                                                                                                                                                                                                               | False                                                                                                                                                                          |
| meta.rdrs.statefulSet.endToEndTls.filenames                  | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.rdrs.statefulSet.endToEndTls.filenames.ca               | ['string', 'null']                              | Name of the CA file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                |
| meta.rdrs.statefulSet.endToEndTls.filenames.cert             | string                                          | Name of the certificate file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                          | tls.crt                                                                                                                                                                        |
| meta.rdrs.statefulSet.endToEndTls.filenames.key              | string                                          | Name of the key file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                                  | tls.key                                                                                                                                                                        |
| meta.rdrs.statefulSet.endToEndTls.secretName                 | string                                          | Name of the TLS Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | rdrs-end-to-end-tls                                                                                                                                                            |
| meta.rdrs.statefulSet.endToEndTls.supplyOwnSecret            |                                                 | Whether the Helmchart user will create a TLS Secret outside of this Helmchart. Otherwise we rely on cert-manager to create one.                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| meta.rdrs.statefulSet.name                                   | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rdrs                                                                                                                                                                           |
| meta.replicaAppliers                                         | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.replicaAppliers.headlessClusterIp                       | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.replicaAppliers.headlessClusterIp.name                  | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | headless-replica-appliers                                                                                                                                                      |
| meta.replicaAppliers.headlessClusterIp.port                  | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 3306                                                                                                                                                                           |
| meta.replicaAppliers.statefulSet                             | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.replicaAppliers.statefulSet.endToEndTls                 | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.replicaAppliers.statefulSet.endToEndTls.enabled         |                                                 | Whether to use end-to-end encryption for MySQL replica applier Pods. This is recommended for high-security use cases. For MySQLds this is especially recommended since they use raw TCP connections and thereby by-pass TLS Ingress-rules. Otherwise, Ingress-TCP can also be configured directly via the Ingress controller (not in this Helmchart).                                                                                                                                              | False                                                                                                                                                                          |
| meta.replicaAppliers.statefulSet.endToEndTls.filenames       | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| meta.replicaAppliers.statefulSet.endToEndTls.filenames.ca    | ['string', 'null']                              | Name of the CA file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                |
| meta.replicaAppliers.statefulSet.endToEndTls.filenames.cert  | string                                          | Name of the certificate file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                          | tls.crt                                                                                                                                                                        |
| meta.replicaAppliers.statefulSet.endToEndTls.filenames.key   | string                                          | Name of the key file in the Secret. ONLY overwrite this if you're not using standard TLS Secrets.                                                                                                                                                                                                                                                                                                                                                                                                  | tls.key                                                                                                                                                                        |
| meta.replicaAppliers.statefulSet.endToEndTls.secretName      | string                                          | Name of the TLS Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | replica-applier-end-to-end-tls                                                                                                                                                 |
| meta.replicaAppliers.statefulSet.endToEndTls.supplyOwnSecret |                                                 | Whether the Helmchart user will create a TLS Secret outside of this Helmchart. Otherwise we rely on cert-manager to create one.                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| meta.replicaAppliers.statefulSet.name                        | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | mysqld-replica-appliers                                                                                                                                                        |
| mysql                                                        | object                                          | How to initialize MySQL                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                |
| mysql.clusterUser                                            | string                                          | The MySQL user for K8s probes, benchmarks and for the standard my.cnf file.                                                                                                                                                                                                                                                                                                                                                                                                                        | helm                                                                                                                                                                           |
| mysql.config                                                 | object                                          | MySQL configuration options                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                |
| mysql.config.maxConnectErrors                                | string                                          | Maximum number of connection errors before the MySQL server blocks the host.                                                                                                                                                                                                                                                                                                                                                                                                                       | 9223372036854775807                                                                                                                                                            |
| mysql.config.maxConnections                                  | integer                                         | Maximum number of connections to the MySQL server.                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 512                                                                                                                                                                            |
| mysql.config.maxPreparedStmtCount                            | integer                                         | Maximum number of prepared statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 65530                                                                                                                                                                          |
| mysql.credentialsSecretName                                  | string                                          | Secret name for MySQL users' passwords                                                                                                                                                                                                                                                                                                                                                                                                                                                             | mysql-passwords                                                                                                                                                                |
| mysql.exporter                                               | object                                          | MySQL exporter configuration                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                |
| mysql.exporter.enabled                                       | boolean                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| mysql.exporter.maxUserConnections                            | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 3                                                                                                                                                                              |
| mysql.exporter.username                                      | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | exporter                                                                                                                                                                       |
| mysql.sqlInitContent                                         | object                                          | SQL to run *only once* at cluster startup. Try to make these scripts idempotent, in case they are re-run by accident. Do so by e.g. using `IF NOT EXISTS` in the SQL commands.                                                                                                                                                                                                                                                                                                                     | {}                                                                                                                                                                             |
| mysql.supplyOwnSecret                                        | boolean                                         | If set to false, the Helmchart will auto-generate MySQL passwords. When running Global Replication as a secondary cluster, this should be set to true. Otherwise, the replication of ALTER root password will fail the cluster.                                                                                                                                                                                                                                                                    | False                                                                                                                                                                          |
| mysql.users                                                  | array                                           | A list of MySQL users and their privileges.                                                                                                                                                                                                                                                                                                                                                                                                                                                        | []                                                                                                                                                                             |
| networkPolicy                                                | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| networkPolicy.mgmds                                          | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| networkPolicy.mgmds.enabled                                  | boolean                                         | Whether to limit ingress for MGMd pods                                                                                                                                                                                                                                                                                                                                                                                                                                                             | True                                                                                                                                                                           |
| networkPolicy.mgmds.ingressSelectors                         | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| networkPolicy.ndbmtds                                        | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| networkPolicy.ndbmtds.enabled                                | boolean                                         | Whether to limit ingress for data node pods. If there is an empty API slot in the config.ini, any host can connect to them.                                                                                                                                                                                                                                                                                                                                                                        | True                                                                                                                                                                           |
| networkPolicy.ndbmtds.ingressSelectors                       | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| nodeSelector                                                 | object                                          | This ensures that Kubernetes schedules pods only onto nodes that match all the specified labels.                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                |
| nodeSelector.backup                                          | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| nodeSelector.mgmd                                            | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| nodeSelector.mysqld                                          | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| nodeSelector.ndbmtd                                          | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| nodeSelector.rdrs                                            | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| priorityClass                                                | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rondb-high-priority                                                                                                                                                            |
| rdrs                                                         | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rdrs.externalMetadataCluster                                 | object                                          | RDRSs will always be in the cluster of the data, not the metadata                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                |
| rdrs.externalMetadataCluster.mgmds                           | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| rdrs.externalMetadataCluster.slotsPerNode                    | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1                                                                                                                                                                              |
| resources                                                    | object                                          | Vertical cluster size                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                |
| resources.limits                                             | object                                          | Kubernetes resource limits                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                |
| resources.limits.cpus                                        | object                                          | CPU resources per RonDB service type                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                |
| resources.limits.cpus.benchs                                 | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2                                                                                                                                                                              |
| resources.limits.cpus.mgmds                                  | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 0.2                                                                                                                                                                            |
| resources.limits.cpus.mysqldExporters                        | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 0.2                                                                                                                                                                            |
| resources.limits.cpus.mysqlds                                | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2                                                                                                                                                                              |
| resources.limits.cpus.ndbmtds                                | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2                                                                                                                                                                              |
| resources.limits.cpus.rdrs                                   | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2                                                                                                                                                                              |
| resources.limits.cpus.restore                                | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1                                                                                                                                                                              |
| resources.limits.memory                                      | object                                          | Memory resources per RonDB service type                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                |
| resources.limits.memory.benchsMiB                            | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 500                                                                                                                                                                            |
| resources.limits.memory.mysqldExportersMiB                   | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 100                                                                                                                                                                            |
| resources.limits.memory.mysqldMiB                            | integer                                         | This can usually be kept at the default independent of the load                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1400                                                                                                                                                                           |
| resources.limits.memory.ndbmtdsMiB                           | integer                                         | It is recommended to keep this above 5GiB, otherwise some memory parts will be configured manually.                                                                                                                                                                                                                                                                                                                                                                                                | 5000                                                                                                                                                                           |
| resources.limits.memory.rdrsMiB                              | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 500                                                                                                                                                                            |
| resources.requests                                           | object                                          | Kubernetes resource requests; Note that data nodes will only apply limits, not requests                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                |
| resources.requests.cpus                                      | object                                          | CPU resources per RonDB service type                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                |
| resources.requests.cpus.benchs                               | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1                                                                                                                                                                              |
| resources.requests.cpus.mgmds                                | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 0.2                                                                                                                                                                            |
| resources.requests.cpus.mysqldExporters                      | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 0.02                                                                                                                                                                           |
| resources.requests.cpus.mysqlds                              | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1                                                                                                                                                                              |
| resources.requests.cpus.rdrs                                 | number                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 1                                                                                                                                                                              |
| resources.requests.memory                                    | object                                          | Memory resources per RonDB service type                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                |
| resources.requests.memory.benchsMiB                          | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 100                                                                                                                                                                            |
| resources.requests.memory.mysqldExportersMiB                 | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 50                                                                                                                                                                             |
| resources.requests.memory.mysqldMiB                          | integer                                         | This can usually be kept at the default independent of the load                                                                                                                                                                                                                                                                                                                                                                                                                                    | 650                                                                                                                                                                            |
| resources.requests.memory.rdrsMiB                            | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 100                                                                                                                                                                            |
| resources.requests.storage                                   | object                                          | Volume specifications                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                |
| resources.requests.storage.binlogGiB                         | integer                                         | Keep in mind that this size needs to survive the retention period of the binlog files                                                                                                                                                                                                                                                                                                                                                                                                              | 4                                                                                                                                                                              |
| resources.requests.storage.classes                           | object                                          | Storage classes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| resources.requests.storage.classes.binlogFiles               | ['string', 'null']                              | Storage class name for MySQLd binlog volumes in global replication                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                |
| resources.requests.storage.classes.default                   | ['string', 'null']                              | Default storage class name for all volumes                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                |
| resources.requests.storage.classes.diskColumns               | ['string', 'null']                              | Storage class name for the data node disk columns volume                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                |
| resources.requests.storage.diskColumnGiB                     | integer                                         | This depends on how much data the user is expecting to place on disk                                                                                                                                                                                                                                                                                                                                                                                                                               | 2                                                                                                                                                                              |
| resources.requests.storage.logGiB                            | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2                                                                                                                                                                              |
| resources.requests.storage.redoLogGiB                        | integer                                         | 64GiB is recommended for optimal performance                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 4                                                                                                                                                                              |
| resources.requests.storage.relayLogGiB                       | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2                                                                                                                                                                              |
| resources.requests.storage.slackGiB                          | integer                                         | Extra space for data node volumes. When RonDB allocates *exactly* the given amount of space, we can run into issues.                                                                                                                                                                                                                                                                                                                                                                               | 1                                                                                                                                                                              |
| resources.requests.storage.undoLogsGiB                       | integer                                         | 64GiB is recommended for good performance                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 4                                                                                                                                                                              |
| restoreFromBackup                                            | object                                          | Whether to restore a backup on the cluster                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                |
| restoreFromBackup.backupId                                   | ['integer', 'null']                             | The native backup ID for the backup to restore                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                |
| restoreFromBackup.excludeDatabases                           | array                                           | Which databases to exclude from the native backup                                                                                                                                                                                                                                                                                                                                                                                                                                                  | []                                                                                                                                                                             |
| restoreFromBackup.excludeTables                              | array                                           | Which tables to exclude from the native backup. Use the format: database.table                                                                                                                                                                                                                                                                                                                                                                                                                     | []                                                                                                                                                                             |
| restoreFromBackup.objectStorageProvider                      | enum: [s3]                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | s3                                                                                                                                                                             |
| restoreFromBackup.pathPrefix                                 | string                                          | Prefix of RonDB backup in the configured bucket                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rondb_backup                                                                                                                                                                   |
| restoreFromBackup.s3                                         | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| restoreFromBackup.s3.bucketName                              | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | rondb-helm                                                                                                                                                                     |
| restoreFromBackup.s3.endpoint                                | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| restoreFromBackup.s3.keyCredentialsSecret                    | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| restoreFromBackup.s3.keyCredentialsSecret.key                | string                                          | Key in the Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | key_id                                                                                                                                                                         |
| restoreFromBackup.s3.keyCredentialsSecret.name               | string                                          | Name of the Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | aws-credentials                                                                                                                                                                |
| restoreFromBackup.s3.provider                                | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | AWS                                                                                                                                                                            |
| restoreFromBackup.s3.region                                  | string                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | eu-north-1                                                                                                                                                                     |
| restoreFromBackup.s3.secretCredentialsSecret                 | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| restoreFromBackup.s3.secretCredentialsSecret.key             | string                                          | Key in the Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | access_key                                                                                                                                                                     |
| restoreFromBackup.s3.secretCredentialsSecret.name            | string                                          | Name of the Secret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | aws-credentials                                                                                                                                                                |
| restoreFromBackup.s3.serverSideEncryption                    | enum: [aws:kms, aws:kms:dsse, AES256, null]     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig                                                  | object                                          | Configurations for RonDB's config.ini. Memory configurations are in binary SI units (i.e. 1G = 1GiB = 1024MiB).                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.DiskPageBufferMemory                             | ['string', 'null']                              | DiskPageBufferMemory are used by disk columns. This is the page cache that contains disk pages when they are in memory. By default it is not defined.                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                |
| rondbConfig.EmptyApiSlots                                    | integer                                         | We need at least 1 for the MySQLd setup job. Otherwise this is for services that are not handled here, e.g. HopsFS                                                                                                                                                                                                                                                                                                                                                                                 | 8                                                                                                                                                                              |
| rondbConfig.HeartbeatIntervalDbApi                           | integer                                         | Each data node sends heartbeat signals to each MySQL server (SQL node) to ensure that it remains in contact. If a MySQL server fails to send a heartbeat in time it is declared “dead,” in which case all ongoing transactions are completed and all resources released. The SQL node cannot reconnect until all activities initiated by the previous MySQL instance have been completed. The three-heartbeat criteria for this determination are the same as described for HeartbeatIntervalDbDb. | 5000                                                                                                                                                                           |
| rondbConfig.HeartbeatIntervalDbDb                            | integer                                         | One of the primary methods of discovering failed nodes is by the use of heartbeats. This parameter states how often heartbeat signals are sent and how often to expect to receive them. Heartbeats cannot be disabled. After missing four heartbeat intervals in a row, the node is declared dead. Thus, the maximum time for discovering a failure through the heartbeat mechanism is five times the heartbeat interval.                                                                          | 5000                                                                                                                                                                           |
| rondbConfig.InitialTablespaceSizeGiB                         | integer                                         | InitialTableSpace size in GiB. By default, it is set to -1, which enforces the initial tablespace to use the entire diskColumnGiB space. If set to 0, the same behaviour applies and the diskColumnGiB is used.                                                                                                                                                                                                                                                                                    | -1                                                                                                                                                                             |
| rondbConfig.MaxDMLOperationsPerTransaction                   | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 32768                                                                                                                                                                          |
| rondbConfig.MaxNoOfAttributes                                | ['integer', 'null']                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.MaxNoOfConcurrentOperations                      | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 65536                                                                                                                                                                          |
| rondbConfig.MaxNoOfTables                                    | ['integer', 'null']                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.MaxNoOfTriggers                                  | ['integer', 'null']                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.MySQLdSlotsPerNode                               | integer                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 4                                                                                                                                                                              |
| rondbConfig.OsCpuOverhead                                    | ['string', 'null']                              | Additional OS memory overhead for the RonDB datanode containers. This is multiplied by the number of CPUs. Also only set this if the container has less than 5GiB of memory.                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                |
| rondbConfig.OsStaticOverhead                                 | ['string', 'null']                              | Memory overhead for the RonDB datanode containers. Only set this if the container has less than 5GiB of memory.                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.RdrsMetadataSlotsPerNode                         | integer                                         | We use additional cluster connections for metadata                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 1                                                                                                                                                                              |
| rondbConfig.RdrsSlotsPerNode                                 | integer                                         | The number of cluster connections we support via the RDRS                                                                                                                                                                                                                                                                                                                                                                                                                                          | 1                                                                                                                                                                              |
| rondbConfig.ReplicationMemory                                | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.ReservedConcurrentOperations                     | ['integer', 'null']                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.SchemaMemory                                     | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.SharedGlobalMemory                               | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| rondbConfig.TotalMemoryConfig                                | ['string', 'null']                              | The total memory configured by RonDB datanode. By default it is not defined and memory is calculated automatically.                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                |
| rondbConfig.TransactionDeadlockDetectionTimeout              | integer                                         | Time transaction can spend executing within data node                                                                                                                                                                                                                                                                                                                                                                                                                                              | 1500                                                                                                                                                                           |
| rondbConfig.TransactionInactiveTimeout                       | integer                                         | Milliseconds that application waits before executing another part of transaction                                                                                                                                                                                                                                                                                                                                                                                                                   | 15000                                                                                                                                                                          |
| rondbConfig.TransactionMemory                                | ['string', 'null']                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                |
| serviceAccountAnnotations                                    | object                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | {}                                                                                                                                                                             |
| staticCpuManagerPolicy                                       | boolean                                         | Whether the Kubernetes cluster has been configured with a static CPU manager policy. This is an optimization for RonDB data nodes. These have a scheduler which executes jobs within hundreds of microseconds (very quick). If the data nodes are pinned to CPUs, they can run CPU spnning to avoid context switching inbetween jobs.                                                                                                                                                              | False                                                                                                                                                                          |
| terminationGracePeriodSeconds                                | integer                                         | TerminationGracePeriodSeconds for data nodes. For debugging. When removing the *entire* cluster, taking down data nodes will hang, since they try to contact the MGMd on shutdown. Hence, this is a way of shortening this wait.                                                                                                                                                                                                                                                                   | 60                                                                                                                                                                             |
| timeoutsMinutes                                              | object                                          | Using minutes for easier template addition                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                |
| timeoutsMinutes.restoreNativeBackup                          | integer                                         | This does not include *downloading* the native backups. IMPORTANT; Restoring native backups is NOT done in parallel yet; TODO: Make this dependent on amount of data                                                                                                                                                                                                                                                                                                                               | 120                                                                                                                                                                            |
| timeoutsMinutes.singleSetupMySQLds                           | integer                                         | This includes the time to start a single MySQLd pod, restoring MySQL metadata and running user-defined MySQL init scripts.                                                                                                                                                                                                                                                                                                                                                                         | 5                                                                                                                                                                              |
| tls                                                          | object                                          | General settings how to use encrypted TLS connections with RonDB APIs (MySQL & RDRS).                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                |
| tls.caSecretName                                             | ['string', 'null']                              | User-provided TLS Secret. This can be used by the cert-manager as a base to sign further certificates. If not supplied, cert-manager will use a self-signed CA certificate.                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                |
| tolerations                                                  | object                                          | These tolerations allow Kubernetes to schedule pods on nodes with matching taints, ensuring proper placement based on cluster policies.                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                |
| tolerations.backup                                           | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| tolerations.mgmd                                             | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| tolerations.mysqld                                           | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| tolerations.ndbmtd                                           | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |
| tolerations.rdrs                                             | array                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | []                                                                                                                                                                             |